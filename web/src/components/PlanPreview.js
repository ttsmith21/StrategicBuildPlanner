import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import ReactMarkdown from "react-markdown";
import remarkGfm from "remark-gfm";
export function PlanPreview({ planJson, planMarkdown, qaResult, asanaTasks }) {
    const [activeTab, setActiveTab] = useState("markdown");
    return (_jsxs("div", { className: "panel", children: [_jsx("h2", { children: "Plan Preview" }), _jsxs("div", { className: "preview-tabs", children: [_jsx("button", { type: "button", className: activeTab === "markdown" ? "active" : "", onClick: () => setActiveTab("markdown"), children: "Markdown" }), _jsx("button", { type: "button", className: activeTab === "json" ? "active" : "", onClick: () => setActiveTab("json"), children: "JSON" })] }), _jsx("div", { className: "plan-preview", children: planJson ? (activeTab === "markdown" ? (_jsx(ReactMarkdown, { remarkPlugins: [remarkGfm], children: planMarkdown })) : (_jsx("pre", { style: { whiteSpace: "pre-wrap" }, children: JSON.stringify(planJson, null, 2) }))) : (_jsx("p", { className: "small", children: "Draft a plan to see content here." })) }), qaResult && (_jsxs("section", { children: [_jsxs("div", { className: "badge", children: ["QA Overall: ", qaResult.overall_score.toFixed(1), " / 100"] }), _jsx("div", { className: "metrics-grid", children: qaResult.dimensions.map((dimension) => (_jsxs("div", { className: "metric", children: [_jsx("span", { children: dimension.dimension }), _jsx("strong", { children: dimension.score.toFixed(0) })] }, dimension.dimension))) })] })), asanaTasks.length > 0 && (_jsxs("section", { children: [_jsx("h3", { style: { marginTop: 0, color: "#a855f7" }, children: "Asana Tasks" }), _jsx("div", { className: "listing", children: asanaTasks.map((task) => (_jsxs("div", { className: "badge", children: ["\u2705 ", task.name] }, task.gid ?? task.name))) })] }))] }));
}
